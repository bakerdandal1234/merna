# ğŸ¨ Ø§Ù„Ø´Ø±Ø­ Ø§Ù„Ù…Ø±Ø¦ÙŠ Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

## ğŸ“Š ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Data Flow)

### 1ï¸âƒ£ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© (Read)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User A    â”‚
â”‚  (Ahmed)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ GET /api/sentences
       â”‚ Authorization: Bearer TOKEN_A
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ğŸ” protect middleware         â”‚
â”‚    - ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Token              â”‚
â”‚    - ÙŠØ¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…        â”‚
â”‚    - req.user = Ahmed            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ğŸ“š Controller                 â”‚
â”‚    - ÙŠØ¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ù…Ù„              â”‚
â”‚    - ÙŠØ¶ÙŠÙ isOwner, canEdit      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ğŸ“¤ Response                   â”‚
â”‚                                  â”‚
â”‚  [                               â”‚
â”‚    {                             â”‚
â”‚      german: "Ich bin Ahmed",    â”‚
â”‚      userId: "Ahmed_ID",         â”‚
â”‚      isOwner: true âœ…            â”‚
â”‚      canEdit: true âœ…            â”‚
â”‚    },                            â”‚
â”‚    {                             â”‚
â”‚      german: "Ich bin Sara",     â”‚
â”‚      userId: "Sara_ID",          â”‚
â”‚      isOwner: false âŒ           â”‚
â”‚      canEdit: false âŒ           â”‚
â”‚    }                             â”‚
â”‚  ]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2ï¸âƒ£ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù†Ø§Ø¬Ø­Ø© (Update - Success)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User A    â”‚
â”‚  (Ahmed)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ PUT /api/sentences/SENTENCE_A_ID
       â”‚ Authorization: Bearer TOKEN_A
       â”‚ Body: { arabic: "Ù†Øµ Ø¬Ø¯ÙŠØ¯" }
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ğŸ” protect middleware         â”‚
â”‚    âœ… Token ØµØ­ÙŠØ­                 â”‚
â”‚    âœ… req.user = Ahmed           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›¡ï¸ checkOwnership middleware   â”‚
â”‚    1. ÙŠØ¬Ù„Ø¨ Ø§Ù„Ø¬Ù…Ù„Ø© Ù…Ù† DB           â”‚
â”‚    2. ÙŠØªØ­Ù‚Ù‚: sentence.userId     â”‚
â”‚       === req.user.id?           â”‚
â”‚    3. âœ… Ù†Ø¹Ù…! Ù…ØªØ·Ø§Ø¨Ù‚              â”‚
â”‚    4. ÙŠØ­ÙØ¸ Ø§Ù„Ø¬Ù…Ù„Ø© ÙÙŠ req.sentenceâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ğŸ“ Controller                 â”‚
â”‚    - ÙŠØ³ØªØ®Ø¯Ù… req.sentence          â”‚
â”‚    - ÙŠØ­Ø¯Ø« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª               â”‚
â”‚    - ÙŠØ­ÙØ¸ ÙÙŠ DB                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    âœ… Response: 200 OK           â”‚
â”‚    "ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ù…Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­"       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3ï¸âƒ£ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙØ§Ø´Ù„Ø© (Update - Fail)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User A    â”‚
â”‚  (Ahmed)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ PUT /api/sentences/SENTENCE_B_ID
       â”‚ Authorization: Bearer TOKEN_A
       â”‚ Body: { arabic: "Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø®ØªØ±Ø§Ù‚" }
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ğŸ” protect middleware         â”‚
â”‚    âœ… Token ØµØ­ÙŠØ­                 â”‚
â”‚    âœ… req.user = Ahmed           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›¡ï¸ checkOwnership middleware   â”‚
â”‚    1. ÙŠØ¬Ù„Ø¨ Ø§Ù„Ø¬Ù…Ù„Ø© Ù…Ù† DB           â”‚
â”‚    2. ÙŠØªØ­Ù‚Ù‚: sentence.userId     â”‚
â”‚       === req.user.id?           â”‚
â”‚    3. âŒ Ù„Ø§! ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚           â”‚
â”‚       sentence.userId = Sara_ID  â”‚
â”‚       req.user.id = Ahmed_ID     â”‚
â”‚    4. ğŸš« ÙŠÙˆÙ‚Ù Ø§Ù„Ø·Ù„Ø¨ ÙÙˆØ±Ø§Ù‹        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    âŒ Response: 403 Forbidden    â”‚
â”‚    "ğŸš« ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­! ÙŠÙ…ÙƒÙ†Ùƒ ÙÙ‚Ø·      â”‚
â”‚     ØªØ¹Ø¯ÙŠÙ„/Ø­Ø°Ù Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„ØªÙŠ         â”‚
â”‚     Ø£Ø¶ÙØªÙ‡Ø§ Ø£Ù†Øª"                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ âš ï¸ Controller Ù„Ù… ÙŠÙÙ†ÙØ°!
               â–¼
        (Ù„Ù… ÙŠØµÙ„ Ù„Ù„Ù€ Controller)
```

---

## ğŸ—‚ï¸ Ø¨Ù†ÙŠØ© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           Sentences Collection        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                       â•‘
â•‘  ğŸ“„ Document 1:                       â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ _id: "507f1f77bcf86cd799439012" â”‚ â•‘
â•‘  â”‚ userId: "AHMED_USER_ID" â—„â”€â”€â”€â”€â”  â”‚ â•‘
â•‘  â”‚ german: "Ich bin Ahmed"       â”‚  â”‚ â•‘
â•‘  â”‚ arabic: "Ø£Ù†Ø§ Ø£Ø­Ù…Ø¯"            â”‚  â”‚ â•‘
â•‘  â”‚ reviewLevel: "new"            â”‚  â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                   â”‚   â•‘
â•‘  ğŸ“„ Document 2:                   â”‚   â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ _id: "507f1f77bcf86cd799439013" â”‚ â•‘
â•‘  â”‚ userId: "AHMED_USER_ID" â—„â”€â”€â”€â”€â”¼â”€â”€â”˜ â•‘
â•‘  â”‚ german: "Guten Tag"           â”‚    â•‘
â•‘  â”‚ arabic: "Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±"          â”‚    â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                        â•‘
â•‘  ğŸ“„ Document 3:                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚ _id: "507f1f77bcf86cd799439014" â”‚  â•‘
â•‘  â”‚ userId: "SARA_USER_ID" â—„â”€â”€â”€â”€â”€â” â”‚  â•‘
â•‘  â”‚ german: "Ich bin Sara"        â”‚ â”‚  â•‘
â•‘  â”‚ arabic: "Ø£Ù†Ø§ Ø³Ø§Ø±Ø©"            â”‚ â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                   â”‚   â•‘
â•‘  ğŸ“„ Document 4:                   â”‚   â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ _id: "507f1f77bcf86cd799439015" â”‚ â•‘
â•‘  â”‚ userId: "SARA_USER_ID" â—„â”€â”€â”€â”€â”€â”€â”˜ â”‚ â•‘
â•‘  â”‚ german: "Wie geht's?"           â”‚  â•‘
â•‘  â”‚ arabic: "ÙƒÙŠÙ Ø­Ø§Ù„ÙƒØŸ"             â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ” Ù…Ù‚Ø§Ø±Ù†Ø© Queries

### Query 1: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ù…Ù„
```javascript
// ÙÙŠ Controller
const query = {}; // ÙØ§Ø±Øº
const sentences = await Sentence.find(query);

// Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙÙŠ MongoDB
db.sentences.find({})
```

**Ø§Ù„Ø®Ø±Ø¬:**
```
ğŸ“„ Document 1 (Ahmed)
ğŸ“„ Document 2 (Ahmed)
ğŸ“„ Document 3 (Sara)
ğŸ“„ Document 4 (Sara)

Total: 4 Ø¬Ù…Ù„
```

---

### Query 2: Ø¬Ù„Ø¨ Ø¬Ù…Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙ‚Ø· (`?view=my`)
```javascript
// ÙÙŠ Controller
const query = { userId: req.user.id }; // ÙÙ„ØªØ± Ø¨Ù€ userId
const sentences = await Sentence.find(query);

// Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙÙŠ MongoDB
db.sentences.find({ userId: "AHMED_USER_ID" })
```

**Ø§Ù„Ø®Ø±Ø¬:**
```
ğŸ“„ Document 1 (Ahmed) âœ…
ğŸ“„ Document 2 (Ahmed) âœ…
ğŸ“„ Document 3 (Sara)  âŒ (ØªÙ… ØªØ¬Ø§Ù‡Ù„Ù‡Ø§)
ğŸ“„ Document 4 (Sara)  âŒ (ØªÙ… ØªØ¬Ø§Ù‡Ù„Ù‡Ø§)

Total: 2 Ø¬Ù…Ù„ (Ù„Ù€ Ahmed ÙÙ‚Ø·)
```

---

### Query 3: Ø¬Ù„Ø¨ Ø¬Ù…Ù„ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† ÙÙ‚Ø· (`?view=others`)
```javascript
// ÙÙŠ Controller
const query = { userId: { $ne: req.user.id } }; // NOT EQUAL
const sentences = await Sentence.find(query);

// Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙÙŠ MongoDB
db.sentences.find({ userId: { $ne: "AHMED_USER_ID" } })
```

**Ø§Ù„Ø®Ø±Ø¬:**
```
ğŸ“„ Document 1 (Ahmed) âŒ (ØªÙ… ØªØ¬Ø§Ù‡Ù„Ù‡Ø§)
ğŸ“„ Document 2 (Ahmed) âŒ (ØªÙ… ØªØ¬Ø§Ù‡Ù„Ù‡Ø§)
ğŸ“„ Document 3 (Sara)  âœ…
ğŸ“„ Document 4 (Sara)  âœ…

Total: 2 Ø¬Ù…Ù„ (Ù„Ù€ Sara ÙÙ‚Ø·)
```

---

## ğŸ­ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„

### Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 1: Ahmed ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Ø´Ø§Ø´Ø© Ahmed                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  ğŸ“š Ø¬Ù…Ù„ÙŠ (3 Ø¬Ù…Ù„)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Ich bin Ahmed                        â”‚ â”‚
â”‚  â”‚ Ø£Ù†Ø§ Ø£Ø­Ù…Ø¯                             â”‚ â”‚
â”‚  â”‚ [âœï¸ ØªØ¹Ø¯ÙŠÙ„] [ğŸ—‘ï¸ Ø­Ø°Ù] [ğŸ“ Ù…Ø±Ø§Ø¬Ø¹Ø©]     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Guten Tag                            â”‚ â”‚
â”‚  â”‚ Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±                           â”‚ â”‚
â”‚  â”‚ [âœï¸ ØªØ¹Ø¯ÙŠÙ„] [ğŸ—‘ï¸ Ø­Ø°Ù] [ğŸ“ Ù…Ø±Ø§Ø¬Ø¹Ø©]     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  ğŸ“– Ø¬Ù…Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† (2 Ø¬Ù…Ù„)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Ich bin Sara                         â”‚ â”‚
â”‚  â”‚ Ø£Ù†Ø§ Ø³Ø§Ø±Ø©                             â”‚ â”‚
â”‚  â”‚ ğŸ“– Ù…Ù† Ù…Ø³ØªØ®Ø¯Ù… Ø¢Ø®Ø± (Ø¹Ø±Ø¶ ÙÙ‚Ø·)          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Wie geht's?                          â”‚ â”‚
â”‚  â”‚ ÙƒÙŠÙ Ø­Ø§Ù„ÙƒØŸ                            â”‚ â”‚
â”‚  â”‚ ğŸ“– Ù…Ù† Ù…Ø³ØªØ®Ø¯Ù… Ø¢Ø®Ø± (Ø¹Ø±Ø¶ ÙÙ‚Ø·)          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 2: Sara ØªØ³ØªØ®Ø¯Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Ø´Ø§Ø´Ø© Sara                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  ğŸ“š Ø¬Ù…Ù„ÙŠ (2 Ø¬Ù…Ù„)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Ich bin Sara                         â”‚ â”‚
â”‚  â”‚ Ø£Ù†Ø§ Ø³Ø§Ø±Ø©                             â”‚ â”‚
â”‚  â”‚ [âœï¸ ØªØ¹Ø¯ÙŠÙ„] [ğŸ—‘ï¸ Ø­Ø°Ù] [ğŸ“ Ù…Ø±Ø§Ø¬Ø¹Ø©]     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Wie geht's?                          â”‚ â”‚
â”‚  â”‚ ÙƒÙŠÙ Ø­Ø§Ù„ÙƒØŸ                            â”‚ â”‚
â”‚  â”‚ [âœï¸ ØªØ¹Ø¯ÙŠÙ„] [ğŸ—‘ï¸ Ø­Ø°Ù] [ğŸ“ Ù…Ø±Ø§Ø¬Ø¹Ø©]     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  ğŸ“– Ø¬Ù…Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† (3 Ø¬Ù…Ù„)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Ich bin Ahmed                        â”‚ â”‚
â”‚  â”‚ Ø£Ù†Ø§ Ø£Ø­Ù…Ø¯                             â”‚ â”‚
â”‚  â”‚ ğŸ“– Ù…Ù† Ù…Ø³ØªØ®Ø¯Ù… Ø¢Ø®Ø± (Ø¹Ø±Ø¶ ÙÙ‚Ø·)          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Guten Tag                            â”‚ â”‚
â”‚  â”‚ Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±                           â”‚ â”‚
â”‚  â”‚ ğŸ“– Ù…Ù† Ù…Ø³ØªØ®Ø¯Ù… Ø¢Ø®Ø± (Ø¹Ø±Ø¶ ÙÙ‚Ø·)          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Ù…ØµÙÙˆÙØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª (Permissions Matrix)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘    Ø§Ù„Ø¹Ù…Ù„ÙŠØ©     â•‘   Ø¬Ù…Ù„Ø© Ahmed â•‘   Ø¬Ù…Ù„Ø© Sara  â•‘  Status Code â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘               â•‘              â•‘              â•‘              â•‘
â•‘ Ahmed:        â•‘              â•‘              â•‘              â•‘
â•‘   READ        â•‘      âœ…      â•‘      âœ…      â•‘     200      â•‘
â•‘   CREATE      â•‘      âœ…      â•‘      -       â•‘     201      â•‘
â•‘   UPDATE      â•‘      âœ…      â•‘      âŒ      â•‘  200 / 403   â•‘
â•‘   DELETE      â•‘      âœ…      â•‘      âŒ      â•‘  200 / 403   â•‘
â•‘   REVIEW      â•‘      âœ…      â•‘      âŒ      â•‘  200 / 403   â•‘
â•‘               â•‘              â•‘              â•‘              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘               â•‘              â•‘              â•‘              â•‘
â•‘ Sara:         â•‘              â•‘              â•‘              â•‘
â•‘   READ        â•‘      âœ…      â•‘      âœ…      â•‘     200      â•‘
â•‘   CREATE      â•‘      -       â•‘      âœ…      â•‘     201      â•‘
â•‘   UPDATE      â•‘      âŒ      â•‘      âœ…      â•‘  403 / 200   â•‘
â•‘   DELETE      â•‘      âŒ      â•‘      âœ…      â•‘  403 / 200   â•‘
â•‘   REVIEW      â•‘      âŒ      â•‘      âœ…      â•‘  403 / 200   â•‘
â•‘               â•‘              â•‘              â•‘              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Legend:
  âœ… Ù…Ø³Ù…ÙˆØ­ (Allowed)
  âŒ Ù…Ù…Ù†ÙˆØ¹ (Denied)
  -  Ù„Ø§ ÙŠÙ†Ø·Ø¨Ù‚ (N/A)
```

---

## ğŸ§© Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Middleware

```
Request
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1ï¸âƒ£ CORS Middleware                     â”‚
â”‚     - ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Origin Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2ï¸âƒ£ Body Parser Middleware              â”‚
â”‚     - ÙŠØ­ÙˆÙ„ JSON Ø¥Ù„Ù‰ Object               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3ï¸âƒ£ protect Middleware (ğŸ”)             â”‚
â”‚     â”œâ”€ ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Token                   â”‚
â”‚     â”œâ”€ ÙŠØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Token            â”‚
â”‚     â”œâ”€ ÙŠØ¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…             â”‚
â”‚     â””â”€ req.user = User Object           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4ï¸âƒ£ checkOwnership Middleware (ğŸ›¡ï¸)     â”‚
â”‚  (ÙÙ‚Ø· Ù„Ù„Ù€ UPDATE/DELETE/REVIEW)         â”‚
â”‚     â”œâ”€ ÙŠØ¬Ù„Ø¨ Ø§Ù„Ø¬Ù…Ù„Ø© Ù…Ù† DB                â”‚
â”‚     â”œâ”€ ÙŠÙ‚Ø§Ø±Ù† userId                     â”‚
â”‚     â””â”€ Ø¥Ø°Ø§ Ù„Ø§ ÙŠÙ…Ù„ÙƒÙ‡Ø§ â†’ 403 Forbidden   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5ï¸âƒ£ Controller                          â”‚
â”‚     - ÙŠÙ†ÙØ° Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¹Ù…Ù„                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
           Response
```

---

## ğŸ¯ Ø§Ù„Ø®Ù„Ø§ØµØ© Ø§Ù„Ù…Ø±Ø¦ÙŠØ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  âœ… ÙŠØ±Ù‰ Ø§Ù„ÙƒÙ„:                                         â”‚
â”‚     â”œâ”€ Ø¬Ù…Ù„Ù‡ Ø§Ù„Ø®Ø§ØµØ©                                    â”‚
â”‚     â””â”€ Ø¬Ù…Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† (Ù„Ù„Ø§Ø³ØªÙØ§Ø¯Ø©)           â”‚
â”‚                                                        â”‚
â”‚  âœï¸ ÙŠØ¹Ø¯Ù„ ÙÙ‚Ø·:                                         â”‚
â”‚     â””â”€ Ø¬Ù…Ù„Ù‡ Ø§Ù„Ø®Ø§ØµØ©                                    â”‚
â”‚                                                        â”‚
â”‚  ğŸ—‘ï¸ ÙŠØ­Ø°Ù ÙÙ‚Ø·:                                         â”‚
â”‚     â””â”€ Ø¬Ù…Ù„Ù‡ Ø§Ù„Ø®Ø§ØµØ©                                    â”‚
â”‚                                                        â”‚
â”‚  ğŸ“ ÙŠØ±Ø§Ø¬Ø¹ ÙÙ‚Ø·:                                        â”‚
â”‚     â””â”€ Ø¬Ù…Ù„Ù‡ Ø§Ù„Ø®Ø§ØµØ©                                    â”‚
â”‚                                                        â”‚
â”‚  ğŸš« Ù…Ù…Ù†ÙˆØ¹:                                            â”‚
â”‚     â”œâ”€ ØªØ¹Ø¯ÙŠÙ„ Ø¬Ù…Ù„ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†                             â”‚
â”‚     â”œâ”€ Ø­Ø°Ù Ø¬Ù…Ù„ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†                               â”‚
â”‚     â””â”€ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¬Ù…Ù„ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†                            â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø´Ø±Ø­ Ø§Ù„Ù…Ø±Ø¦ÙŠ! ğŸ¨**

Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙŠÙˆØ¶Ø­ Ø¨Ø´ÙƒÙ„ Ù…Ø±Ø¦ÙŠ ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ù„Ù„Ù†Ù‡Ø§ÙŠØ©.
