# âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Header Ù…Ø¹ Ø²Ø± Logout!

## Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù…ÙØ¶Ø§ÙØ©

### 1. âœ… Header Component Ø¬Ø¯ÙŠØ¯

**Ø§Ù„Ù…Ù„Ù**: `src/components/Header.jsx`

**Ø§Ù„Ù…ÙŠØ²Ø§Øª**:
- ğŸ¨ ØªØµÙ…ÙŠÙ… Ø§Ø­ØªØ±Ø§ÙÙŠ ÙˆØ¬Ù…ÙŠÙ„
- ğŸ‘¤ Ø¹Ø±Ø¶ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„Ø¥ÙŠÙ…ÙŠÙ„
- ğŸšª Ø²Ø± Logout ÙˆØ§Ø¶Ø­ ÙˆÙƒØ¨ÙŠØ±
- ğŸ“± Responsive design
- ğŸ¯ Sticky header (ÙŠØ¨Ù‚Ù‰ Ø¸Ø§Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ±)

**Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‡©ğŸ‡ª Merna          [ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…]  [ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬] â”‚
â”‚    ØªØ¹Ù„Ù… Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©    Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. âœ… ØªØ­Ø¯ÙŠØ« Ger.jsx

**Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª**:
1. Ø¥Ø¶Ø§ÙØ© `<Header />` ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰
2. Ø§Ø³ØªØ¨Ø¯Ø§Ù„ `fetch` Ø¨Ù€ `api` Ù…Ù† `services/api.js`
3. Ø§Ù„Ø¢Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ø­Ù…ÙŠØ© Ø¨Ù€ JWT ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

**Ù‚Ø¨Ù„**:
```javascript
const response = await fetch(`${API_URL}/sentences`);
```

**Ø¨Ø¹Ø¯**:
```javascript
const response = await api.get('/sentences');
// JWT ÙŠÙØ¶Ø§Ù ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„Ù€ headers!
```

---

## ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ LogoutØŸ

### Ø§Ù„Ø®Ø·ÙˆØ§Øª:

1. **Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¶ØºØ· Ø²Ø± "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬"**
   ```
   â†“
   ```

2. **ÙŠØ¸Ù‡Ø± ØªØ£ÙƒÙŠØ¯**: "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ"
   ```
   â†“ Ù†Ø¹Ù…
   ```

3. **ÙŠÙØ±Ø³Ù„ Ø·Ù„Ø¨ Ù„Ù„Ù€ Backend**: `POST /api/auth/logout`
   ```javascript
   await api.post('/auth/logout');
   ```
   
4. **Backend ÙŠØ­Ø°Ù Refresh Token Cookie**
   ```
   â†“
   ```

5. **Frontend ÙŠØ­Ø°Ù Access Token Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø©**
   ```javascript
   clearAccessToken();
   setUser(null);
   ```
   
6. **ÙŠÙˆØ¬Ù‘Ù‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ØµÙØ­Ø© Login**
   ```javascript
   navigate('/login');
   ```

---

## Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù€ Header

### ğŸ¨ Ø§Ù„ØªØµÙ…ÙŠÙ…

- **Logo**: ğŸ‡©ğŸ‡ª Merna Ø¨Ù„ÙˆÙ† Ø£Ø²Ø±Ù‚ Ù…Ù…ÙŠØ²
- **User Section**: Ø®Ù„ÙÙŠØ© Ù…Ù„ÙˆÙ†Ø© Ù…Ø¹ Ø£ÙŠÙ‚ÙˆÙ†Ø©
- **Logout Button**: ØªØ¯Ø±Ø¬ Ù„ÙˆÙ†ÙŠ Ø¬Ù…ÙŠÙ„ Ù…Ø¹ ØªØ£Ø«ÙŠØ± hover

### ğŸ” Ø§Ù„Ø£Ù…Ø§Ù†

- âœ… ØªØ£ÙƒÙŠØ¯ Ù‚Ø¨Ù„ Ø§Ù„Ø®Ø±ÙˆØ¬
- âœ… Ø­Ø°Ù Tokens Ø¨Ø´ÙƒÙ„ Ø¢Ù…Ù†
- âœ… Redirect ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù€ Login

### ğŸ“± Responsive

- ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø­Ø¬Ø§Ù…
- ÙŠØªÙƒÙŠÙ Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø©

---

## Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙØ­Ø¯Ø«Ø©

```
âœ… src/components/Header.jsx          â† Ø¬Ø¯ÙŠØ¯
âœ… src/components/Ger.jsx              â† Ù…Ø­Ø¯Ø«
   - Ø¥Ø¶Ø§ÙØ© Header
   - Ø§Ø³ØªØ®Ø¯Ø§Ù… api Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† fetch
```

---

## Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù€ Logout

### 1. ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„

```bash
http://localhost:5173/login
```

### 2. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

- Ø£Ø¶Ù Ø¬Ù…Ù„
- Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø¬Ù…Ù„
- Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

### 3. Ø§Ø¶ØºØ· "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬"

- ÙŠØ¸Ù‡Ø± ÙÙŠ Ø£Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†
- Ø²Ø± Ø£Ø²Ø±Ù‚ Ø¨Ø£ÙŠÙ‚ÙˆÙ†Ø© ğŸšª
- Ø§Ø¶ØºØ· ÙˆØ§Ø¶ØºØ· "OK" ÙÙŠ Ø§Ù„ØªØ£ÙƒÙŠØ¯

### 4. ØªØ­Ù‚Ù‚ Ù…Ù† Logout

- ÙŠØ¬Ø¨ Ø£Ù† ØªÙÙ†Ù‚Ù„ Ù„Ù€ `/login`
- Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù€ `/` Ø¨Ø¯ÙˆÙ† login
- Tokens ØªÙ… Ø­Ø°ÙÙ‡Ø§

---

## Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Access Token Ùˆ Refresh Token

### Access Token
- **Ø§Ù„Ø¹Ù…Ø±**: 15 Ø¯Ù‚ÙŠÙ‚Ø©
- **Ø§Ù„Ù…ÙƒØ§Ù†**: Memory (Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…ØªØµÙØ­)
- **Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…**: ÙŠÙØ±Ø³Ù„ Ù…Ø¹ ÙƒÙ„ API request
- **Ø¹Ù†Ø¯ Logout**: ÙŠÙØ­Ø°Ù Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø©

### Refresh Token
- **Ø§Ù„Ø¹Ù…Ø±**: 7 Ø£ÙŠØ§Ù…
- **Ø§Ù„Ù…ÙƒØ§Ù†**: HttpOnly Cookie
- **Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…**: Ù„ØªØ¬Ø¯ÙŠØ¯ Access Token
- **Ø¹Ù†Ø¯ Logout**: ÙŠÙØ­Ø°Ù Ù…Ù† Ø§Ù„Ù€ Cookie

---

## Session Management

### ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ

```
User Login
   â†“
Access Token (15min) + Refresh Token (7d)
   â†“
ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (Access Token ÙŠÙØ±Ø³Ù„ Ù…Ø¹ ÙƒÙ„ Ø·Ù„Ø¨)
   â†“
Ø¨Ø¹Ø¯ 15 Ø¯Ù‚ÙŠÙ‚Ø©: Access Token expired
   â†“
Axios Interceptor ÙŠÙƒØªØ´Ù 401
   â†“
ÙŠØ¬Ø¯Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Refresh Token
   â†“
Access Token Ø¬Ø¯ÙŠØ¯
   â†“
ÙŠØ¹ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø£ØµÙ„ÙŠ
   â†“
ÙŠØ³ØªÙ…Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø¯ÙˆÙ† Ø§Ù†Ù‚Ø·Ø§Ø¹!
```

### Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Ù‰ Refresh TokenØŸ

```
Refresh Token expired (Ø¨Ø¹Ø¯ 7 Ø£ÙŠØ§Ù…)
   â†“
Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ¬Ø¯ÙŠØ¯
   â†“
Logout ØªÙ„Ù‚Ø§Ø¦ÙŠ
   â†“
Redirect to /login
```

---

## Ø§Ù„Ø¢Ù† Ø¬Ø±Ù‘Ø¨!

### 1. Ø´ØºÙ‘Ù„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```bash
# Backend
cd backend
npm run dev

# Frontend
cd react
npm run dev
```

### 2. Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„

```
http://localhost:5173/login
```

### 3. Ù„Ø§Ø­Ø¸ Ø§Ù„Ù€ Header Ø§Ù„Ø¬Ø¯ÙŠØ¯!

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‡©ğŸ‡ª Merna    [ğŸ‘¤ Ø§Ø³Ù…Ùƒ]  [ğŸšª Logout] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø«Ù… Ø§Ø¶ØºØ· Logout

---

## Troubleshooting

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Header Ù„Ø§ ÙŠØ¸Ù‡Ø±

**Ø§Ù„Ø­Ù„**:
```bash
cd react
npm run dev
```
ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Console

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Logout Ù„Ø§ ÙŠØ¹Ù…Ù„

**Ø§Ù„Ø­Ù„**:
1. ØªØ­Ù‚Ù‚ Ù…Ù† Backend ÙŠØ¹Ù…Ù„
2. Ø§ÙØªØ­ Network Tab
3. Ø´Ø§Ù‡Ø¯ Ø·Ù„Ø¨ `/auth/logout`

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø§ ØªØ¸Ù‡Ø±

**Ø§Ù„Ø­Ù„**:
- ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ØµØ­ÙŠØ­
- `user` ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ AuthContext

---

## Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ÙØ¶Ø§Ù

### Header Component

```javascript
import { useAuth } from '../../context/AuthContext';
import { useNavigate } from 'react-router-dom';
import { LogOut, User } from 'lucide-react';

const Header = () => {
  const { user, logout } = useAuth();
  const navigate = useNavigate();

  const handleLogout = async () => {
    if (window.confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ')) {
      await logout();
      navigate('/login');
    }
  };

  return (
    // Header JSX with beautiful design
  );
};
```

### Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ger.jsx

```javascript
import Header from './Header';

return (
  <>
    <Header />
    <div className="container">
      {/* Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */}
    </div>
  </>
);
```

---

**ÙƒÙ„ Ø´ÙŠØ¡ Ø¬Ø§Ù‡Ø²! Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„ØªØ·Ø¨ÙŠÙ‚! ğŸ‰**
